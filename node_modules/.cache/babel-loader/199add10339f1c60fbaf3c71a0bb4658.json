{"ast":null,"code":"var _jsxFileName = \"/Users/conni/helio/catalog/cat-ui/src/pages/listCatalog.js\";\nimport React, { Component } from \"react\";\nimport EditCatalog from \"./editCatalog\";\nexport default class CatalogList extends Component {\n  constructor() {\n    super();\n\n    this.getCatalog = () => {\n      fetch('https://helio-catalog-api.herokuapp.com/api/catalog') //fetch(\"http://localhost:8080/api/catalog\")\n      .then(response => {\n        return response.json();\n      }).then(data => {\n        console.log(\"data from api: \", data);\n        this.setState({\n          catalog: data,\n          catalogList: data.map(item => {\n            return /*#__PURE__*/React.createElement(\"li\", {\n              key: item._id,\n              id: item._id,\n              onClick: this.updateCatalog,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 26,\n                columnNumber: 15\n              }\n            }, item.title || \"Unknown\");\n          }),\n          editForm: \"\"\n        });\n      }).catch();\n    };\n\n    this.updateCatalog = event => {\n      // this is the id of the item i want to update\n      //console.log('all catalog: ', this.state.catalog);\n      const id = event.target.getAttribute(\"id\");\n\n      const stupidFind = _id => {\n        for (let i = 0; i < this.state.catalog.length; i++) {\n          let catalog = this.state.catalog[i];\n\n          if (catalog._id === id) {\n            return catalog;\n          }\n        }\n\n        return null;\n      };\n\n      let thisCatalog = stupidFind(id); //thisCatalog = thisCatalog[0];\n      //console.log('thisCatalog: ', thisCatalog);\n      //console.log('id: ', id);\n\n      this.setState({\n        editForm: \"\"\n      }, function () {\n        this.setState({\n          editForm: /*#__PURE__*/React.createElement(EditCatalog, Object.assign({}, thisCatalog, {\n            getCatalog: this.getCatalog,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 13\n            }\n          }))\n        });\n      });\n    };\n\n    this.state = {\n      catalog: [],\n      catalogList: [],\n      editForm: \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.getCatalog();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }\n    }, \"GLOSSARY\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }\n    }, \"Please select a term:\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }\n    }, this.state.catalogList), this.state.editForm));\n  }\n\n}","map":{"version":3,"sources":["/Users/conni/helio/catalog/cat-ui/src/pages/listCatalog.js"],"names":["React","Component","EditCatalog","CatalogList","constructor","getCatalog","fetch","then","response","json","data","console","log","setState","catalog","catalogList","map","item","_id","updateCatalog","title","editForm","catch","event","id","target","getAttribute","stupidFind","i","state","length","thisCatalog","componentDidMount","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,WAAP,MAAwB,eAAxB;AAGA,eAAe,MAAMC,WAAN,SAA0BF,SAA1B,CAAoC;AACjDG,EAAAA,WAAW,GAAG;AACZ;;AADY,SAQdC,UARc,GAQD,MAAM;AACjBC,MAAAA,KAAK,CAAC,qDAAD,CAAL,CACA;AADA,OAEGC,IAFH,CAESC,QAAD,IAAc;AAClB,eAAOA,QAAQ,CAACC,IAAT,EAAP;AACD,OAJH,EAKGF,IALH,CAKSG,IAAD,IAAU;AACdC,QAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BF,IAA/B;AACA,aAAKG,QAAL,CAAc;AACZC,UAAAA,OAAO,EAAEJ,IADG;AAEZK,UAAAA,WAAW,EAAEL,IAAI,CAACM,GAAL,CAAUC,IAAD,IAAU;AAC9B,gCACE;AAAI,cAAA,GAAG,EAAEA,IAAI,CAACC,GAAd;AAAmB,cAAA,EAAE,EAAED,IAAI,CAACC,GAA5B;AAAiC,cAAA,OAAO,EAAE,KAAKC,aAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eACGF,IAAI,CAACG,KAAL,IAAc,SADjB,CADF;AAKD,WANY,CAFD;AASZC,UAAAA,QAAQ,EAAE;AATE,SAAd;AAWD,OAlBH,EAmBGC,KAnBH;AAoBD,KA7Ba;;AAAA,SA8BdH,aA9Bc,GA8BGI,KAAD,IAAW;AACzB;AACA;AACA,YAAMC,EAAE,GAAGD,KAAK,CAACE,MAAN,CAAaC,YAAb,CAA0B,IAA1B,CAAX;;AACA,YAAMC,UAAU,GAAIT,GAAD,IAAS;AAC1B,aAAK,IAAIU,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKC,KAAL,CAAWf,OAAX,CAAmBgB,MAAvC,EAA+CF,CAAC,EAAhD,EAAoD;AAClD,cAAId,OAAO,GAAG,KAAKe,KAAL,CAAWf,OAAX,CAAmBc,CAAnB,CAAd;;AACA,cAAId,OAAO,CAACI,GAAR,KAAgBM,EAApB,EAAwB;AACtB,mBAAOV,OAAP;AACD;AACF;;AACD,eAAO,IAAP;AACD,OARD;;AASA,UAAIiB,WAAW,GAAGJ,UAAU,CAACH,EAAD,CAA5B,CAbyB,CAczB;AACA;AACA;;AACA,WAAKX,QAAL,CACE;AACEQ,QAAAA,QAAQ,EAAE;AADZ,OADF,EAIE,YAAY;AACV,aAAKR,QAAL,CAAc;AACZQ,UAAAA,QAAQ,eACN,oBAAC,WAAD,oBAAiBU,WAAjB;AAA8B,YAAA,UAAU,EAAE,KAAK1B,UAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFU,SAAd;AAKD,OAVH;AAYD,KA3Da;;AAEZ,SAAKwB,KAAL,GAAa;AACXf,MAAAA,OAAO,EAAE,EADE;AAEXC,MAAAA,WAAW,EAAE,EAFF;AAGXM,MAAAA,QAAQ,EAAE;AAHC,KAAb;AAKD;;AAuDDW,EAAAA,iBAAiB,GAAG;AAClB,SAAK3B,UAAL;AACD;;AAED4B,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAHF,eAIE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK,KAAKJ,KAAL,CAAWd,WAAhB,CADF,EAEG,KAAKc,KAAL,CAAWR,QAFd,CAJF,CADF;AAWD;;AA/EgD","sourcesContent":["import React, { Component } from \"react\";\nimport EditCatalog from \"./editCatalog\";\n\n\nexport default class CatalogList extends Component {\n  constructor() {\n    super();\n    this.state = {\n      catalog: [],\n      catalogList: [],\n      editForm: \"\",\n    };\n  }\n  getCatalog = () => {\n    fetch('https://helio-catalog-api.herokuapp.com/api/catalog')\n    //fetch(\"http://localhost:8080/api/catalog\")\n      .then((response) => {\n        return response.json();\n      })\n      .then((data) => {\n        console.log(\"data from api: \", data);\n        this.setState({\n          catalog: data,\n          catalogList: data.map((item) => {\n            return (\n              <li key={item._id} id={item._id} onClick={this.updateCatalog}>\n                {item.title || \"Unknown\"}\n              </li>\n            );\n          }),\n          editForm: \"\",\n        });\n      })\n      .catch();\n  };\n  updateCatalog = (event) => {\n    // this is the id of the item i want to update\n    //console.log('all catalog: ', this.state.catalog);\n    const id = event.target.getAttribute(\"id\");\n    const stupidFind = (_id) => {\n      for (let i = 0; i < this.state.catalog.length; i++) {\n        let catalog = this.state.catalog[i];\n        if (catalog._id === id) {\n          return catalog;\n        }\n      }\n      return null;\n    };\n    let thisCatalog = stupidFind(id);\n    //thisCatalog = thisCatalog[0];\n    //console.log('thisCatalog: ', thisCatalog);\n    //console.log('id: ', id);\n    this.setState(\n      {\n        editForm: \"\",\n      },\n      function () {\n        this.setState({\n          editForm: (\n            <EditCatalog {...thisCatalog} getCatalog={this.getCatalog} />\n          ),\n        });\n      }\n    );\n  };\n  return;\n\n  componentDidMount() {\n    this.getCatalog();\n  }\n\n  render() {\n    return (\n      <div>\n        <h4>GLOSSARY</h4>\n      \n        <p>Please select a term:</p>\n        <div className=\"App\">\n          <ul>{this.state.catalogList}</ul>\n          {this.state.editForm}\n        </div>\n      </div>\n    );\n  }\n}"]},"metadata":{},"sourceType":"module"}